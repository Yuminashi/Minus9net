<!DOCTYPE html>
<html lang="ja">

<head>
    <title>Yuminashi Outlet</title>
    <meta charset="UTF-8">
    <meta name="description" content="主に 3DCG、ゲーム を作るゆみなしのポートフォリオサイトです。">
    <meta name="keywords" content="Yuminashi,ゆみなし,3DCG,3Dキャラ">
    <link href="https://fonts.googleapis.com/css?family=M+PLUS+1p:100,300|M+PLUS+Rounded+1c:100,300" rel="stylesheet">

    <style type="text/css">
        * {
            margin: 0px;
            padding: 0px;
        }

        body {
            min-height: 200vh;
        }

        .key {
            width: 100%;
            height: 100vh;
            position: fixed;
        }

        .key>img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: top center;
            position: absolute;
            top: 0;
            left: 0;
        }

        #key_color{
            clip-path: polygon(100% 100%, 100% 0, 100% 0, 0 100%, 0 100%);
        }

        header>.content{
            width: 100%;
            height: 100vh;
            z-index: 1;
            position: relative;
        }

        main{

            width: 100%;
            height: 100vh;
            z-index: 1;
            position: relative;
            background-color: rosybrown;
        }

    </style>
</head>

<body>
    <header>
        <div class="key">
            <img id="key_wire" src="assets/img/key_wire.jpg">
            <img id="key_color" src="assets/img/key_color.jpg">
            <img id="key_chara" src="assets/img/key_chara.png">
        </div>
        <div class="content">

        </div>
    </header>
    <main>

    </main>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
        $(function KeyImageActions() { //キーイメージに関するアクション

            var isExitLoadAnim = false;

            window.onload = function () {
                $(".key_color").addClass('key_color_enter');
            };

            document.querySelector('.key_color').addEventListener("transitionend", function () {
                isExitLoadAnim = true;
            });

            $(window).resize(function () {
                ScrollAction();
            });

            $(window).scroll(function TitleAction() {

                ScrollAction();
            });

            function ScrollAction() {

                if (!isExitLoadAnim) {
                    $(window).scrollTop(0);
                    return;
                }

                var s = $(window).scrollTop();
                s /= $('.works').offset().top;
                s *= 100;
                if (s > 99.99) s = 100;

                if (!isFinite(s)) return;

                if (s <= 0) {
                    $(".key_color").removeClass('key_color_exit');
                    $(".key_chara").removeClass('key_chara_exit');

                } else {
                    $(".key_color").addClass('key_color_exit');
                    $(".key_chara").addClass('key_chara_exit');
                }

                return;

                $(".key_wire_loaded").css("transition", "0s");

                $(".key_blur").css("filter", "blur(" + s / 100 * 4 + "px)");

                var v = 100 - s;

                $(".key_color").css("clip-path", "polygon(100% 100%, 100% 0, 100% " + s + "%, " + s + "% 100%, 0 100%)");

                $(".key_chara").css("clip-path", "polygon(0 0, 100% 0, 100% " + v + "%, 0 " + v + "%)");
            };
        });

        $(function () {

            $('a[href^="#"]').click(function () { // #で始まるリンクをクリックしたら実行されます
                // スクロールの速度
                var speed = 400; // ミリ秒で記述
                var href = $(this).attr("href");
                var target = $(href == "#" || href == "" ? 'html' : href);
                var position = target.offset().top;
                $('body,html').animate({ scrollTop: position }, speed, 'swing');
                return false;
            });
        });

    </script>
</body>

</html>